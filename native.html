<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Development" href="contrib/index.html" /><link rel="prev" title="Drop-in API" href="dropin.html" />

    <meta name="generator" content="sphinx-4.0.2, furo 2021.06.18.beta36"/>
        <title>Native API - pysimdjson</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=9b17055c4366e8b2949c66d6a9d8b0efe4dbaa60">
    <link rel="stylesheet" href="_static/pygments.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css" />
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=ee12cdd73c4bbac24afec78d92c4afd7c2d8ea7f"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">pysimdjson</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo_dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">pysimdjson</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="dropin.html">Drop-in API</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Native API</a></li>
</ul>
<p class="caption"><span class="caption-text">Development:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <section id="native-api">
<h1>Native API<a class="headerlink" href="#native-api" title="Permalink to this headline">¶</a></h1>
<p>The native simdjson API offers significant performance improvements over the
builtin-compatible API if only part of a document is of interest.</p>
<p>Objects and arrays are returned as fake dicts (<a class="reference internal" href="#simdjson.Object" title="simdjson.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a>) and lists
(<a class="reference internal" href="#simdjson.Array" title="simdjson.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a>) that delay the creation of Python objects until they are
accessed.</p>
<dl class="py class">
<dt class="sig sig-object py" id="simdjson.Parser">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">Parser</span></span><a class="headerlink" href="#simdjson.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>A <cite>Parser</cite> instance is used to load and/or parse a JSON document.</p>
<p>A Parser can be reused to parse multiple documents, in which case it wil
reuse its internal buffer, only increasing it if needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_capacity</strong> – The maximum size the internal buffer can
grow to. [default: SIMDJSON_MAXSIZE_BYTES]</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simdjson.Parser.implementation">
<span class="sig-name descname"><span class="pre">implementation</span></span><a class="headerlink" href="#simdjson.Parser.implementation" title="Permalink to this definition">¶</a></dt>
<dd><p>The active parser implementation as (name, description). Can be
any value from <a class="reference internal" href="#simdjson.Parser.implementations" title="simdjson.Parser.implementations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">implementations</span></code></a>. The best implementation
for your current platform will be picked by default.</p>
<p>Can be set to the name of any valid implementation to globally
change the Parser implementation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Setting this to an implementation inappropriate for your platform
WILL cause illegal instructions or segfaults at best. It’s up to
you to ensure an implementation is valid for your CPU if you
choose to override the automatic choice.</p>
</div>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simdjson.Parser.implementations">
<span class="sig-name descname"><span class="pre">implementations</span></span><a class="headerlink" href="#simdjson.Parser.implementations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of available parser implementations in the form of [(name,
description),…].</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Parser.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">path</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">recursive=False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Parser.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a JSON document from the file system path <cite>path</cite>.</p>
<p>If any <a class="reference internal" href="#simdjson.Object" title="simdjson.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a> or <a class="reference internal" href="#simdjson.Array" title="simdjson.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a> proxies still pointing to
a previously-parsed document exist when this method is called, a
<cite>RuntimeError</cite> may be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – A filesystem path.</p></li>
<li><p><strong>recursive</strong> – Recursively turn the document into real
python objects instead of pysimdjson proxies.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Parser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self</span></em>, <em class="sig-param"><span class="pre">src</span></em>, <em class="sig-param"><span class="pre">bool</span> <span class="pre">recursive=False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Parser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given JSON document.</p>
<p>The source document may be a <cite>str</cite>, <cite>bytes</cite>, <cite>bytearray</cite>, or any other
object that implements the buffer protocol.</p>
<div class="tip admonition">
<p class="admonition-title">Performance</p>
<p>While you can pass quite a few things to this method to be parsed,
simple <code class="docutils literal notranslate"><span class="pre">bytes</span></code> will almost always be the fastest.</p>
</div>
<p>If any <a class="reference internal" href="#simdjson.Object" title="simdjson.Object"><code class="xref py py-class docutils literal notranslate"><span class="pre">Object</span></code></a> or <a class="reference internal" href="#simdjson.Array" title="simdjson.Array"><code class="xref py py-class docutils literal notranslate"><span class="pre">Array</span></code></a> proxies still pointing to
a previously-parsed document exist when this method is called, a
<code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> may be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – The document to parse.</p></li>
<li><p><strong>recursive</strong> – Recursively turn the document into real
python objects instead of pysimdjson proxies.
[default: False]</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="simdjson.Array">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">Array</span></span><a class="headerlink" href="#simdjson.Array" title="Permalink to this definition">¶</a></dt>
<dd><p>A proxy object that behaves much like a real <cite>list()</cite>.</p>
<p>Python objects are not created until an element in the list is accessed.
When you only need a subset of an Array, this can be much faster than
converting an entire array (and all of its children) into real Python
objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Array.as_buffer">
<span class="sig-name descname"><span class="pre">as_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">of_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Array.as_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Copies</strong> the contents of a <strong>homogeneous</strong> array to an
object that can be used as a <cite>buffer</cite>. This means it can be
used as input for <cite>numpy.frombuffer</cite>, <cite>bytearray</cite>,
<cite>memoryview</cite>, etc.</p>
<p>When n-dimensional arrays are encountered, this method will recursively
flatten them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The object returned by this method contains a <em>copy</em> of the Array’s
data. Thus, it’s safe to use even after the Array or Parser are
destroyed or reused.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>of_type</strong> – One of ‘d’ (double), ‘i’ (signed 64-bit integer) or ‘u’
(unsigned 64-bit integer).</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Array.as_list">
<span class="sig-name descname"><span class="pre">as_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Array.as_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this Array to a regular python list, recursively
converting any objects/lists it finds.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Array.at_pointer">
<span class="sig-name descname"><span class="pre">at_pointer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_pointer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Array.at_pointer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value at the given JSON pointer.</p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simdjson.Array.mini">
<span class="sig-name descname"><span class="pre">mini</span></span><a class="headerlink" href="#simdjson.Array.mini" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minified JSON representation of this Array.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="simdjson.Object">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">Object</span></span><a class="headerlink" href="#simdjson.Object" title="Permalink to this definition">¶</a></dt>
<dd><p>A proxy object that behaves much like a real <cite>dict()</cite>.</p>
<p>Python objects are not created until an element in the Object
is accessed. When you only need a subset of an Object, this can be much
faster than converting an entire Object (and all of its children) into real
Python objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this <cite>Object</cite> to a regular python dictionary,
recursively converting any objects or lists it finds.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.at_pointer">
<span class="sig-name descname"><span class="pre">at_pointer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_pointer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.at_pointer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value at the given JSON pointer.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of <cite>key</cite>, or <cite>default</cite> if the key does
not exist.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over all the (key, value) pairs in this
<cite>Object</cite>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over all keys in this <cite>Object</cite>.</p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="simdjson.Object.mini">
<span class="sig-name descname"><span class="pre">mini</span></span><a class="headerlink" href="#simdjson.Object.mini" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minified JSON representation of this Object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="simdjson.Object.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#simdjson.Object.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over of all values in this <cite>Object</cite>.</p>
</dd></dl>
</dd></dl>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="simdjson.MAXSIZE_BYTES">
<span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">MAXSIZE_BYTES</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><em class="property"> <span class="pre">=</span> <span class="pre">4294967295</span></em><a class="headerlink" href="#simdjson.MAXSIZE_BYTES" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum document size (in bytes) supported by simdjson.</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="simdjson.PADDING">
<span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">PADDING</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><em class="property"> <span class="pre">=</span> <span class="pre">32</span></em><a class="headerlink" href="#simdjson.PADDING" title="Permalink to this definition">¶</a></dt>
<dd><p>The amount of padding needed in a buffer to parse JSON.</p>
<p>In general, pysimdjson takes care of padding for you and you do not need
to worry about this.</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="simdjson.VERSION">
<span class="sig-prename descclassname"><span class="pre">simdjson.</span></span><span class="sig-name descname"><span class="pre">VERSION</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#simdjson.VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the embedded simdjson library.</p>
</dd></dl>
</section>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="contrib/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Development</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dropin.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Drop-in API</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Tyler Kennedy
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/native.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Native API</a><ul>
<li><a class="reference internal" href="#constants">Constants</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>